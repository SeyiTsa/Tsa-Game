[gd_scene load_steps=29 format=4 uid="uid://by2w026v1l3q"]

[ext_resource type="Script" path="res://scripts/notepad.gd" id="3_xj0ly"]
[ext_resource type="PackedScene" uid="uid://cd8vbm5in07ms" path="res://scenes/player.tscn" id="4_1r07b"]
[ext_resource type="Texture2D" uid="uid://d4l76sk03ut4f" path="res://art/notepad_ui.png" id="4_msgmk"]
[ext_resource type="PackedScene" uid="uid://iww63bcg0wbq" path="res://scenes/customer.tscn" id="4_sjedv"]
[ext_resource type="PackedScene" uid="uid://cm34nodey2fao" path="res://scenes/table.tscn" id="5_w6ube"]
[ext_resource type="PackedScene" uid="uid://h3d6xe6de10o" path="res://scenes/fire_extinguisher.tscn" id="6_sp336"]
[ext_resource type="PackedScene" uid="uid://b7kkslyq85aaa" path="res://scenes/fire.tscn" id="7_oeso0"]
[ext_resource type="Texture2D" uid="uid://qou5u14rdm55" path="res://art/tilemap.png" id="8_d20en"]
[ext_resource type="Texture2D" uid="uid://cyh0spxmuvhty" path="res://art/downcast_light.png" id="9_dagfr"]
[ext_resource type="Texture2D" uid="uid://dgko4g7pchgtf" path="res://art/string.png" id="10_uw6ms"]
[ext_resource type="Script" path="res://scripts/order_area.gd" id="10_wawwa"]
[ext_resource type="Shader" path="res://scripts/shaders/highlight.gdshader" id="11_xv75k"]
[ext_resource type="PackedScene" uid="uid://be647421rchf7" path="res://scenes/interact_area.tscn" id="12_1tjhg"]
[ext_resource type="Texture2D" uid="uid://c2mokekd1p6i5" path="res://art/order_note.png" id="14_v3d5j"]
[ext_resource type="Script" path="res://scripts/order_note.gd" id="15_3t1oy"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3spg2"]
vertices = PackedVector2Array(616.961, 345.531, -2.90625, 347.961, -0.0703125, -0.382813, 654.883, -26.0469)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(666, -36.5, -10, -10, -13, 358, 626, 355.5)])

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_q065k"]
texture = ExtResource("4_msgmk")

[sub_resource type="Animation" id="Animation_y7psn"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(826, 525)]
}

[sub_resource type="Animation" id="Animation_pjkop"]
resource_name = "down"
length = 0.3
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1.56),
"update": 0,
"values": [Vector2(826, 398), Vector2(826, 525)]
}

[sub_resource type="Animation" id="Animation_c1abs"]
resource_name = "pop up"
length = 0.3
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1.56, -1.56),
"update": 0,
"values": [Vector2(826, 525), Vector2(826, 398)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yfagk"]
_data = {
"RESET": SubResource("Animation_y7psn"),
"down": SubResource("Animation_pjkop"),
"pop up": SubResource("Animation_c1abs")
}

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_poxdk"]
texture = ExtResource("8_d20en")
texture_region_size = Vector2i(32, 32)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(2, -16, 16, -16, 16, 16, 2, 16)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/y_sort_origin = 35
3:0/0 = 0
3:0/0/y_sort_origin = 35
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:1/0 = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, -2, -16, -2, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_ktun4"]
tile_size = Vector2i(32, 32)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_poxdk")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jvm8r"]
resource_local_to_scene = true
shader = ExtResource("11_xv75k")
shader_parameter/color_a = Color(1, 1, 1, 1)
shader_parameter/color_b = Color(1, 1, 1, 1)
shader_parameter/colors_affect_alpha = false
shader_parameter/flash_amount = 1.0
shader_parameter/flash_speed = 1.0
shader_parameter/transparency = 1.0
shader_parameter/intensity = 0.0

[sub_resource type="Animation" id="Animation_cb6sd"]
resource_name = "selected"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NinePatchRect:material:shader_parameter/intensity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.0, 0.0]
}

[sub_resource type="Animation" id="Animation_20c6q"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NinePatchRect:material:shader_parameter/intensity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hkxo1"]
_data = {
"RESET": SubResource("Animation_20c6q"),
"selected": SubResource("Animation_cb6sd")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vkt5s"]
size = Vector2(70, 45.5)

[node name="Main" type="Node2D"]
y_sort_enabled = true
scale = Vector2(2, 2)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_3spg2")
metadata/_edit_lock_ = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
metadata/_edit_use_anchors_ = true

[node name="Notepad" type="PanelContainer" parent="CanvasLayer/Control"]
texture_filter = 1
layout_mode = 0
offset_left = 826.0
offset_top = 525.0
offset_right = 1076.0
offset_bottom = 775.0
theme_override_styles/panel = SubResource("StyleBoxTexture_q065k")
script = ExtResource("3_xj0ly")

[node name="Order 1" type="Node2D" parent="CanvasLayer/Control/Notepad"]
position = Vector2(87, 77)
rotation = 0.0261799
skew = 0.200713

[node name="Label" type="Label" parent="CanvasLayer/Control/Notepad/Order 1"]
texture_filter = 1
offset_right = 300.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "
"

[node name="Order 2" type="Node2D" parent="CanvasLayer/Control/Notepad"]
position = Vector2(79.0001, 113)
rotation = 0.0261799
skew = 0.200713

[node name="Label" type="Label" parent="CanvasLayer/Control/Notepad/Order 2"]
texture_filter = 1
offset_right = 300.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(0, 0, 0, 1)

[node name="Order 3" type="Node2D" parent="CanvasLayer/Control/Notepad"]
position = Vector2(71, 158)
rotation = 0.0261799
skew = 0.200713

[node name="Label" type="Label" parent="CanvasLayer/Control/Notepad/Order 3"]
texture_filter = 1
offset_right = 300.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(0, 0, 0, 1)

[node name="Order 4" type="Node2D" parent="CanvasLayer/Control/Notepad"]
position = Vector2(65, 208)
rotation = 0.0261799
skew = 0.200713

[node name="Label" type="Label" parent="CanvasLayer/Control/Notepad/Order 4"]
texture_filter = 1
offset_right = 300.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(0, 0, 0, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/Control/Notepad"]
libraries = {
"": SubResource("AnimationLibrary_yfagk")
}

[node name="Timer" type="Timer" parent="CanvasLayer/Control/Notepad"]
wait_time = 2.0
one_shot = true

[node name="Player" parent="." instance=ExtResource("4_1r07b")]
position = Vector2(49.5, 103)

[node name="Customer" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(239, 136)

[node name="Customer2" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(294, 234)

[node name="Customer3" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(86, 297)

[node name="Customer4" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(506, 172)

[node name="Table" parent="." instance=ExtResource("5_w6ube")]
position = Vector2(318, 166)

[node name="Table2" parent="." instance=ExtResource("5_w6ube")]
position = Vector2(182, 230)

[node name="Table3" parent="." instance=ExtResource("5_w6ube")]
position = Vector2(376, 249)

[node name="Table4" parent="." instance=ExtResource("5_w6ube")]
position = Vector2(440.5, 182)

[node name="Customer5" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(395.5, 99.5)

[node name="Customer8" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(491.5, 122)

[node name="Customer6" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(491.5, 239.5)

[node name="Customer7" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(286, 296)

[node name="Customer9" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(382.5, 291.5)

[node name="Customer10" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(153.5, 291.5)

[node name="Customer11" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(213, 297)

[node name="Customer12" parent="." instance=ExtResource("4_sjedv")]
position = Vector2(213, 297)

[node name="Fire Extinguisher" parent="." instance=ExtResource("6_sp336")]
position = Vector2(77.5, 184.5)

[node name="Fire" parent="." instance=ExtResource("7_oeso0")]
position = Vector2(540.5, 129)

[node name="Fire2" parent="." instance=ExtResource("7_oeso0")]
position = Vector2(237.5, 178.5)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
texture_filter = 1
tile_map_data = PackedByteArray("AAAFAAIAAAAAAAEAAAAHAAIAAAABAAEAAAAIAAIAAAAEAAEAAAAJAAIAAAAEAAEAAAAKAAIAAAAEAAEAAAALAAIAAAAEAAEAAAAMAAIAAAADAAEAAAAHAAEAAAABAAAAAAAMAAEAAAADAAAAAAAGAAIAAAACAAEAAAANAAIAAAABAAEAAAANAAEAAAABAAAAAAAQAAEAAAADAAAAAAAQAAIAAAADAAEAAAAPAAIAAAACAAEAAAAOAAIAAAACAAEAAAA=")
tile_set = SubResource("TileSet_ktun4")
metadata/_edit_lock_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.592203, 0.720257, 0.878053, 1)

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(304.5, 40)
scale = Vector2(1, 2.40625)
shadow_enabled = true
texture = ExtResource("9_dagfr")

[node name="PointLight2D2" type="PointLight2D" parent="."]
position = Vector2(272.5, 40)
scale = Vector2(1, 2.40625)
shadow_enabled = true
texture = ExtResource("9_dagfr")

[node name="PointLight2D3" type="PointLight2D" parent="."]
position = Vector2(336, 40)
scale = Vector2(1, 2.40625)
shadow_enabled = true
texture = ExtResource("9_dagfr")

[node name="PointLight2D4" type="PointLight2D" parent="."]
position = Vector2(366.5, 40)
scale = Vector2(1, 2.40625)
shadow_enabled = true
texture = ExtResource("9_dagfr")

[node name="Order Area" type="CharacterBody2D" parent="."]
script = ExtResource("10_wawwa")

[node name="NinePatchRect" type="NinePatchRect" parent="Order Area"]
z_index = 1
texture_filter = 1
material = SubResource("ShaderMaterial_jvm8r")
offset_left = 445.0
offset_top = 41.5
offset_right = 515.0
offset_bottom = 61.5
texture = ExtResource("10_uw6ms")
patch_margin_left = 3
patch_margin_right = 3
axis_stretch_vertical = 1

[node name="Highlight" type="AnimationPlayer" parent="Order Area"]
libraries = {
"": SubResource("AnimationLibrary_hkxo1")
}

[node name="Interact Area" parent="Order Area" instance=ExtResource("12_1tjhg")]
position = Vector2(445, 35.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Order Area/Interact Area"]
position = Vector2(35, 41.75)
shape = SubResource("RectangleShape2D_vkt5s")

[node name="1" type="Sprite2D" parent="Order Area"]
visible = false
z_index = 1
position = Vector2(457, 57)
texture = ExtResource("14_v3d5j")
script = ExtResource("15_3t1oy")

[node name="2" type="Sprite2D" parent="Order Area"]
visible = false
z_index = 1
position = Vector2(467, 57)
texture = ExtResource("14_v3d5j")
script = ExtResource("15_3t1oy")

[node name="3" type="Sprite2D" parent="Order Area"]
visible = false
z_index = 1
position = Vector2(497.5, 57)
texture = ExtResource("14_v3d5j")
script = ExtResource("15_3t1oy")

[node name="4" type="Sprite2D" parent="Order Area"]
visible = false
z_index = 1
position = Vector2(476.75, 57.3)
scale = Vector2(1.1, 1.1)
texture = ExtResource("14_v3d5j")
script = ExtResource("15_3t1oy")

[node name="5" type="Sprite2D" parent="Order Area"]
visible = false
z_index = 1
position = Vector2(488, 57.3)
scale = Vector2(1.1, 1.1)
texture = ExtResource("14_v3d5j")
script = ExtResource("15_3t1oy")

[connection signal="mouse_entered" from="CanvasLayer/Control/Notepad" to="CanvasLayer/Control/Notepad" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="CanvasLayer/Control/Notepad" to="CanvasLayer/Control/Notepad" method="_on_mouse_exited"]
[connection signal="timeout" from="CanvasLayer/Control/Notepad/Timer" to="CanvasLayer/Control/Notepad" method="_on_timer_timeout"]
[connection signal="order_queued" from="Order Area" to="Order Area" method="_on_order_queued"]
